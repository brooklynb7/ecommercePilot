<!--<div class="bg-light lter b-b wrapper-md">
	<h1 class="m-n font-thin h3">
		<a ui-sref="app.brand">
			<i class="icon-arrow-left i-sm m-r-sm"></i>
		</a>
		产品系列管理
	</h1>
</div> -->
<!-- / main header -->
<div data-ng-include=" 'tpl/brand_work_center_header.html' "></div>

<div class="hbox hbox-auto-xs hbox-auto-sm bg-light" ng-init="app.fullScreen = true;"
     ng-controller="BrandProductSeriesCtrl">
    <!-- column -->
    <div class="col w-lg lter b-r">
        <div class="vbox">
            <div class="wrapper-sm b-b">
                <!-- <div class="input-group m-b-xxs text-center">
                    <span class="input-group-addon input-sm no-border no-bg"><i class="icon-magnifier text-md m-t-xxs"></i></span>
                    <input type="text" class="form-control input-sm no-border no-bg text-md" placeholder="搜索" ng-model="query">
                </div> -->
                <div class="text-center ">
                    选择品牌
                </div>
            </div>

            <div class="row-row">
                <div class="cell scrollable hover">
                    <div class="cell-inner">
                        <div class="m-t-n-xxs">
                            <div class="list-group list-group-lg no-radius no-border no-bg m-b-none">
                                <a ng-repeat="item in items | filter:{group:filter} | filter:query | orderBy:'first'"
                                   class="list-group-item m-l" ng-class="{'select m-l-none': item.selected }"
                                   ng-click="selectItem(item)">
									<span class="block text-ellipsis m-l-n text-md"
                                          ng-class="{'m-l-none': item.selected }">
										<strong>{{ item.name }}</strong>
										<span ng-hide="item.name">暂无名称</span>
									</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div>
        <div class="row">
            <div class="col-sm-6">
                <div class="btn-group">
                    <button id="sample_editable_1_new" class="btn green" ng-click="editProduct(null, item)">
                        新建产品系列<i class="fa fa-plus"></i>
                    </button>
                </div>
            </div>

            <div class="col-sm-6">
                <div class="btn-group pull-right">
                    <button class="btn dropdown-toggle" data-toggle="dropdown">工具<i class="fa fa-angle-down"></i>
                    </button>
                    <ul class="dropdown-menu pull-right">
                        <li>
                            <a href="#">
                                打印</a>
                        </li>
                        <li>
                            <a href="#">
                                导出PDF</a>
                        </li>
                        <li>
                            <a href="#">
                                导出Excel</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="line line-dashed b-b line-lg pull-in"></div>

        <div class="col-sm-5" ng-hide="item.productseries_set">还没有产品系列</div>
        <table ng-show="item.productseries_set" class="table table-striped table-hover table-bordered"
               id="product_series">
            <thead>
            <tr>
                <th class="col-md-3">系列名称</th>
                <th class="col-md-2">类别</th>
                <th class="col-md-2">材料</th>
                <th class="col-md-2">风格</th>
                <th class="col-md-1">查看</th>
                <th class="col-md-1">编辑</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="product in item.productseries_set">
                <td>
                    {{product.name}}
                </td>
                <td>
                    {{app.getCategoryText(product.category)}}
                </td>
                <td>
                    {{app.getMaterialText(product.material_types)}}
                </td>
                <td>
                    {{app.getStyleText(product.decoration_styles)}}
                </td>
                <td>
                    <a><i class="fa fa-search" ng-click="viewProduct(product, item)"></i></a>
                </td>
                <td>
                    <a><i class="fa fa-edit" ng-click="editProduct(product, item)"></i></a>
                </td>
            </tr>
            </tbody>
        </table>
        <script type="text/ng-template" id="productEditModal.html">
            <div data-ng-app="app" class="app">
                <div class="modal-header">
                    <a class="pull-right" ng-click="cancel()"><i class="fa fa-remove"></i></a>
                    <h4 ng-hide="isNew" class="modal-title">编辑产品系列</h4>
                    <h4 ng-show="isNew" class="modal-title">新建产品系列</h4>
                </div>
                <form role="form">
                    <div class="modal-body">
                        <div class="form-group">
                            <label class="col-md-3 control-label">名称</label>

                            <div class="col-md-9">

                                <input type="text" class="form-control" ng-model='tempProduct.name' placeholder="名称">
                            </div>
                        </div>
                        <div class="line line-dashed b-b line-lg pull-in"></div>
                        <div class="form-group">
                            <label class="col-md-3 control-label">类别</label>

                            <div class="col-md-9">
                                <select class="form-control" ng-model='tempProduct.category'>
                                    <option ng-repeat="item in app.categoryList" value="{{item.id}}">{{item.name}}</option>
                                </select>
                            </div>
                        </div>
                        <div class="line line-dashed b-b line-lg pull-in"></div>
                        <div class="form-group">
                            <label class="col-md-3 control-label">风格</label>

                            <div class="col-md-9">
                                <select class="form-control" ng-model='tempProduct.decoration_styles'>
                                    <option ng-repeat="item in app.decorationStyleList" value="{{item.id}}">{{item.name}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="line line-dashed b-b line-lg pull-in"></div>
                        <div class="form-group">
                            <label class="col-md-3 control-label">材料</label>

                            <div class="col-md-9">
                                <select class="form-control" ng-model='tempProduct.material_types'>
                                    <option ng-repeat="item in app.materialList" value="{{item.id}}">{{item.name}}</option>
                                </select>
                            </div>
                        </div>
                        <div class="line line-dashed b-b line-lg pull-in"></div>
                        <div class="form-group">
                            <label class="col-md-3 control-label">代理店铺面积</label>

                            <div class="col-md-9">
                                <input type="text" class="form-control" ng-model='tempProduct.shop_size' placeholder="店铺面积">
                            </div>
                        </div>
                        <div class="line line-dashed b-b line-lg pull-in"></div>
                        <div class="form-group">
                            <label class="col-md-3 control-label">装修成本</label>

                            <div class="col-md-9">
                                <input type="text" class="form-control" ng-model='tempProduct.deco_cost' placeholder="装修成本">
                            </div>
                        </div>
                        <div class="line line-dashed b-b line-lg pull-in"></div>
                        <div class="form-group">
                            <label class="col-md-3 control-label">货物成本</label>

                            <div class="col-md-9">
                                <input type="text" class="form-control" ng-model='tempProduct.product_cost'
                                       placeholder="货物成本">
                            </div>
                        </div>

                        <div class="line line-dashed b-b line-lg pull-in"></div>
                        <div class="form-group">
                            <label class="col-md-3 control-label">描述</label>

                            <div class="col-md-9">
                                <textarea rows="5" class="form-control" ng-model='tempProduct.description'
                                       placeholder="描述"/>
                            </div>
                        </div>
                        <div class="line line-dashed b-b line-lg pull-in"></div>
                        <div class="form-group">
                            <label class="col-md-3 control-label">图片</label>
                            <div class="col-md-9">
                                <div class="row" ng-repeat="photo in tempProduct.photos">
                                    <div class="span6">
                                        <img class="col-md-4" ng-src="{{photo}}">
                                        <a class="span2"><i class="fa fa-remove"></i></a>
                                    </div>
                                </div>
                                <div class="row">
                                    <a class="span2"><i class="fa fa-plus"></i></a>
                                    <div class="span6">
                                    <input ui-jq="filestyle" type="file" data-icon="false" data-classButton="btn btn-default"
                                       data-classInput="form-control" ng-model='tempProduct.new_photo'>
                                    </div>
                                </div>
                                <br/>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-sm btn-primary" ng-click='save(tempProduct)'>保存</button>
                    </div>
                </form>
                <script src="js/app.js"/>
            </div>
        </script>

        <!--view product-->
        <script type="text/ng-template" id="productViewModal.html">
            <div class="modal-header" data-ng-app="app">
                <a class="pull-right" ng-click="cancel()"><i class="fa fa-remove"></i></a>
                <h4 class="modal-title">查看产品系列</h4>
            </div>
                    <div class="modal-body">
                        <table class="table table-striped">
                            <tr><td>名称: </td><td>{{selectedProduct.name}}</td></tr>
                            <tr><td>类别: </td><td>{{app.getCategoryText(selectedProduct.category)}}</td></tr>
                            <tr><td>材料: </td><td>{{app.getMaterialText(selectedProduct.material_types)}}</td></tr>
                            <tr><td>风格: </td><td>{{app.getStyleText(selectedProduct.decoration_styles)}}</td></tr>
                            <tr><td>店铺面积: </td><td>{{selectedProduct.shop_size}}</td></tr>
                            <tr><td>装修成本: </td><td>{{selectedProduct.deco_cost}}</td></tr>
                            <tr><td>货物成本: </td><td>{{selectedProduct.product_cost}}</td></tr>
                            <tr><td>描述: </td><td>{{selectedProduct.description}}</td></tr>
                        </table>

                        <div ng-controller="CarouselCtrl" class="" set-ng-animate="false">
                            <div class="panel-heading">
                                照片
                            </div>
                            <carousel interval="myInterval">
                                <slide ng-repeat="slide in slides" active="slide.active">
                                    <img ng-src="{{slide.image}}" class="img-full">
                                    <div class="carousel-caption">
                                        <h4>系列名称</h4>
                                        <p>{{slide.description}}</p>
                                    </div>
                                </slide>
                            </carousel>
                        </div>

                    </div>
            </div>

            <script src="js/app.js"/>
        </script>

    </div>

</div>